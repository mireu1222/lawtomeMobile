<div class="board-view-wrap">
    @@if(context.qna){
        <!-- Q title -->
        <div class="board-head">
            <p class="tit"><span class="blind">제목</span>질문 제목이 들어감</p>
            <ul class="info">
                <li><span class="blind">작성자</span>홍길동</li>
                <li><span class="blind">작성일</span>2021-05-12</li>
            </ul>
        </div>
        <!-- // Q title -->
        <!-- answer -->
        <div class="answer-wrap">
            <div class="board-head">
                <p class="tit"><span class="blind">제목</span>답변 제목이 들어감</p>
                <ul class="info">
                    <li><span class="blind">작성자</span>운영자</li>
                    <li><span class="blind">작성일</span>2021-05-13</li>
                </ul>
            </div>
            <div class="board-content">
                <div class="cont">
                    답변 내용이 들어감<br>
                    답변 내용이 들어감<br>
                    답변 내용이 들어감<br>
                    답변 내용이 들어감<br>
                    답변 내용이 들어감
                </div>
            </div>
        </div>
        <!-- // answer -->
    }
    @@if(!context.qna){
        <!-- title -->
        <div class="board-head">
            <p class="tit"><span class="blind">제목</span>게시물 타이틀 영역입니다.</p>
            @@if(!context.event){
                <ul class="info">
                    @@if(context.comm){
                        <li>
                            <p class="name">
                                <span class="thumb" style="background-image:url('/mobile/images/@noimg.gif')"></span>
                                <span>gawoolaw21</span>
                            </p>
                        </li>
                    }
                    <li><span class="blind">작성일</span>2021-02-12</li>
                    <li><span class="blind">조회수</span>87</li>
                </ul>
            }
            @@if(context.event){
                <ul class="info">
                    <li>이벤트기간 2021.05.11 ~ 05.13</li>
                </ul>
            }
        </div>
        <!-- // title -->
        <!-- content -->
        <div class="board-content">
            @@if(!context.event){
                <div class="cont">
                    입력한 텍스트 또는 에디터 내용 불러옴
                </div>
            }
            @@if(context.event){
                <!-- 이벤트 -->
                <div class="cont event">
                    <span class="evt-img"><img src="/images/@thumb3.jpg" alt=""></span>
                    <p class="title">이벤트 제목이 들어감</p>
                    <p class="desc">이벤트 당첨을 축하드립니다!</p>
                    <ul class="evt-info">
                        <li>
                            <dl>
                                <dt>이벤트 경품</dt>
                                <dd>경품상품</dd>
                            </dl>
                        </li>
                        <li>
                            <dl>
                                <dt>당첨자 발표</dt>
                                <dd>
                                    홍길동(golf***)<br>
                                    홍길동(golf***)<br>
                                    홍길동(golf***)
                                </dd>
                            </dl>
                        </li>
                    </ul>
                </div>
                <!-- // 이벤트 -->
            }
            <!-- 첨부파일 / 없을 경우 DOM 삭제되도록. 빈 DOM 남지않게 해주세요. -->
            <div class="files">
                <p class="tit">첨부파일</p>
                <ul class="file-lists">
                    <li><a href="#n" class="file-down">첨부파일제목.jpg</a></li>
                    <li><a href="#n" class="file-down">첨부파일제목.jpg</a></li>
                    <li><a href="#n" class="file-down">첨부파일제목.jpg</a></li>
                </ul>
            </div>
            <!-- // 첨부파일 -->
        </div>
        <!-- // content -->
        @@if(context.comm){
            <!-- 댓글 --> 
            <div class="board-reply">
                <p class="tit">댓글 <em>999</em></p>
                <ul class="reply-lists">
                    <li>
                        <div class="inner">
                            <span class="thumb" style="background-image:url('/mobile/images/@noimg.gif')" aria-hidden="true"></span>
                            <div class="reply-conts">
                                <p class="name"><span class="blind">작성자</span><em>bestlaw11</em></p>
                                <p class="reply">댓글 내용이 들어감</p>
                                <div class="bottom">
                                    <p class="date"><span class="blind">작성일</span>2021.00.00 00:00</p>
                                    <div class="controls">
                                        <button type="button" class="link-gray btn-reply-write"><span>댓글 달기</span></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                    <!-- 대댓글일 때 .re-reply -->
                    <li class="re-reply">
                        <div class="inner">
                            <span class="thumb" style="background-image:url('/mobile/images/@noimg.gif')" aria-hidden="true"></span>
                            <div class="reply-conts">
                                <p class="name">
                                    <span class="blind">작성자</span><em>bestlaw111</em>
                                    <span class="flag flag-sm flag-border-point rounded">작성자</span>
                                </p>
                                <p class="reply">대댓글 내용이 들어감 대댓글 내용이 들어감 대댓글 내용이 들어감</p>
                                <div class="bottom">
                                    <p class="date"><span class="blind">작성일</span>2021.00.00 00:00</p>
                                    <div class="controls">
                                        <button type="button" class="link-gray btn-reply-write"><span>댓글 달기</span></button>
                                        <!-- 내 댓글일 때 -->
                                        <button type="button" class="link-gray"><span>수정</span></button>
                                        <button type="button" class="link-gray"><span>삭제</span></button>
                                        <!-- // 내 댓글일 때 -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                    <!-- // 대댓글일 때 .re-reply -->
                    <li class="re-reply">
                        <div class="inner">
                            <span class="thumb" style="background-image:url('/mobile/images/@noimg.gif')" aria-hidden="true"></span>
                            <div class="reply-conts">
                                <p class="name">
                                    <span class="blind">작성자</span><em>bestlaw111</em>
                                </p>
                                <p class="reply">대댓글 내용이 들어감</p>
                                <div class="bottom">
                                    <p class="date"><span class="blind">작성일</span>2021.00.00 00:00</p>
                                    <div class="controls">
                                        <button type="button" class="link-gray btn-reply-write"><span>댓글 달기</span></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="inner">
                            <span class="thumb" style="background-image:url('/mobile/images/@noimg.gif')" aria-hidden="true"></span>
                            <div class="reply-conts">
                                <p class="name"><span class="blind">작성자</span><em>bestlaw1111</em></p>
                                <p class="reply">댓글 내용이 들어감</p>
                                <div class="bottom">
                                    <p class="date"><span class="blind">작성일</span>2021.00.00 00:00</p>
                                    <div class="controls">
                                        <button type="button" class="link-gray btn-reply-write"><span>댓글 달기</span></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
                <div class="reply-write">
                    <textarea class="form-control autosize" placeholder="댓글을 남겨보세요"></textarea>
                    <button type="button" class="btn btn-sm btn-border-gray rounded"><span>등록</span></button>
                </div>
            </div>
            <!-- // 댓글 --> 
        }
        <!-- prev/next -->
        <div class="board-foot">
            <!-- 이전글/다음글 다 없을 경우 ul.more-view DOM 삭제 -->
            <ul class="more-view">
                <!-- 이전글 없을 경우 li.prev DOM 삭제 -->
                <li class="prev">
                    <a href="">이전글</a>
                </li>
                <!-- // 이전글 없을 경우 li.prev DOM 삭제 -->
                <!-- 다음글 없을 경우 li.next DOM 삭제 -->
                <li class="next">
                    <a href="">다음글</a>
                </li>
                <!-- // 다음글 없을 경우 li.next DOM 삭제 -->
            </ul>
            <!-- // 이전글/다음글 다 없을 경우 ul.more-view DOM 삭제 -->
            <a href="/mobile/page/@@page.html" class="btn-list"><span class="bar" aria-hidden="true"></span><span class="blind">목록</span></a>
        </div>
        <!-- // prev/next -->
    }
</div>
@@if(context.comm){
    <script>
        $(function(){
            function replyInput(replyTo) {
                var inputTemp =
                    '<div class="reply-write" data-type="re-reply">' + 
                        '<textarea class="form-control autosize" placeholder="'+replyTo+'님께 댓글 쓰기"></textarea>' + 
                        '<button type="button" class="btn btn-sm btn-border-gray rounded"><span>등록</span></button>' + 
                    '</div>';
                return inputTemp;
            }
    
            var reply = $('.reply-lists');
    
            reply.find('.btn-reply-write').on('click', function(){
                var btn = $(this);
                var allBtn = reply.find('.btn-reply-write');
                var inner = btn.closest('.inner');
                var to = inner.find('.name em').text();
                var inputs = reply.find('[data-type="re-reply"]');
    
                if ( inputs.find('textarea').val() ){
                    if (confirm('작성중인 답글 내용을 취소 하겠습니까?') == true) {
                        if (btn.hasClass('on')){
                            btn.removeClass('on');
                            btn.find('span').text('댓글 달기');
                            inner.next('[data-type="re-reply"]').remove();
                        } else {
                            reply.find('[data-type="re-reply"]').remove();
                            allBtn.removeClass('on');
                            allBtn.find('span').text('댓글 달기');
                            btn.addClass('on');
                            btn.find('span').text('댓글 취소');
                            inner.after(replyInput(to));
                            autosize($('textarea.autosize'));
                        }
                    } else {
                        return;
                    }
                } else {
                    if (btn.hasClass('on')){
                        btn.removeClass('on');
                        btn.find('span').text('댓글 달기');
                        inner.next('[data-type="re-reply"]').remove();
                    } else {
                        reply.find('[data-type="re-reply"]').remove();
                        allBtn.removeClass('on');
                        allBtn.find('span').text('댓글 달기');
                        btn.addClass('on');
                        btn.find('span').text('댓글 취소');
                        inner.after(replyInput(to));
                        autosize($('textarea.autosize'));
                    }
                }
    
            });
    
            autosize($('textarea.autosize'));
        });
    </script>
}